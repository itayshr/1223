function showDaySelection(dayIndex = 0) {
    // אם עברנו על כל הימים, נשמור את המידע ב-LocalStorage
    if (dayIndex >= days.length) {
        localStorage.setItem(username, JSON.stringify({ password, schedule: userSchedule }));
        alert(`✅ המשתמש ${username} נרשם בהצלחה!`);
        return;
    }

    // שמירה על יום הנוכחי
    const day = days[dayIndex];
    let selectedSubjects = [];  // משתנה לשמירת המקצועות שנבחרו ליום הנוכחי

    // הצגת הכותרת ליום הנבחר
    scheduleOutput.innerHTML = `<h3>בחר מקצועות ליום ${day}</h3>`;

    // יצירת מיכל לשמירת הכפתורים של המקצועות
    let subjectsContainer = document.createElement("div");
    subjectsContainer.classList.add("subjects-container");

    // יצירת כפתור לכל מקצוע
    subjects.forEach(subject => {
        let btn = document.createElement("button");
        btn.classList.add("subject-btn");
        btn.textContent = subject;

        // התנהגות הכפתור כשנלחץ
        btn.addEventListener("click", () => {
            if (selectedSubjects.includes(subject)) {
                // אם המקצוע כבר נבחר, נבטל את הבחירה
                selectedSubjects = selectedSubjects.filter(s => s !== subject);
                btn.classList.remove("selected");
            } else {
                // אם המקצוע לא נבחר, נוסיף אותו לרשימה
                selectedSubjects.push(subject);
                btn.classList.add("selected");
            }
        });

        // הוספת הכפתור למיכל
        subjectsContainer.appendChild(btn);
    });

    // הצגת המיכל עם כל הכפתורים בדף
    scheduleOutput.appendChild(subjectsContainer);

    // יצירת כפתור "הבא" להמשך הבחירה ליום הבא
    let nextButton = document.createElement("button");
    nextButton.textContent = "הבא";
    nextButton.addEventListener("click", () => {
        // שמירת הבחירה של היום הנוכחי
        userSchedule[day] = selectedSubjects;

        // מעבר ליום הבא
        showDaySelection(dayIndex + 1);  // השלב הבא
    });

    // הוספת כפתור "הבא" לדף
    scheduleOutput.appendChild(nextButton);
}
